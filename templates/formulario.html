<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Clasificador de Insectos</title>
<link rel="stylesheet" href="styles.css" />
<script>
    document
    .getElementById("formulario")
    .addEventListener("submit", function (event) {
        event.preventDefault();

        const abdomen = document.getElementById("abdomen").value;
        const antena = document.getElementById("antena").value;

        fetch("https://flask-txrk.onrender.com/predict", {
        method: "POST",
        headers: {
            "Content-Type": "application/x-www-form-urlencoded",
        },
        body: `abdomen=${abdomen}&antena=${antena}`,
        })
        .then((response) => response.json())
        .then((data) => {
            const resultado = document.getElementById("resultado");
            if (data.error) {
            resultado.innerText = "Error: " + data.error;
            resultado.style.color = "red";
            } else {
            resultado.innerText = "El insecto es un/a " + data.categoria;
            resultado.style.color = "green";
            }
        })
        .catch((error) => {
            document.getElementById("resultado").innerText =
            "Error en la solicitud.";
            console.error("Error:", error);
        });
    });
</script>
</head>
<body>
<div class="container">
    <h1>Clasificador de Insectos</h1>
    <form id="formulario">
    <label for="abdomen">Longitud del Abdomen (mm):</label>
    <input type="number" id="abdomen" name="abdomen" step="any" required />

    <label for="antena">Longitud de las Antenas (mm):</label>
    <input type="number" id="antena" name="antena" step="any" required />

    <button type="submit">Clasificar</button>
    </form>
    <p id="resultado"></p>
</div>
</body>
</html>
